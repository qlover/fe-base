## `src/executor/plugins/AbortPlugin` (Module)

**Type:** `module src/executor/plugins/AbortPlugin`

---

### `AbortError` (Class)

**Type:** `class AbortError`

Custom error class for abort operations

Extends
`ExecutorError`
to provide rich abort-specific error information,
including abort identifiers, timeout details, and user-friendly descriptions

Core features:

- Abort identification: Tracks which operation was aborted via
  `abortId`

- Timeout tracking: Records timeout duration when abort is timeout-triggered
- Timeout detection: Provides
  `isTimeout()`
  method to distinguish timeout aborts
- Friendly descriptions: Generates human-readable error messages with context

**Example:** Basic abort error

```typescript
const error = new AbortError('Operation cancelled by user', 'fetch-user-123');
console.log(error.getDescription());
// Output: "Operation cancelled by user (Request: fetch-user-123)"
```

**Example:** Timeout abort error

```typescript
const error = new AbortError('Request timed out', 'api-call-456', 5000);
if (error.isTimeout()) {
  console.log(`Request ${error.abortId} timed out after ${error.timeout}ms`);
}
```

---

#### `new AbortError` (Constructor)

**Type:** `(message: string, abortId: string, timeout: number) => AbortError`

#### Parameters

| Name      | Type     | Optional | Default | Since | Deprecated | Description                                                               |
| --------- | -------- | -------- | ------- | ----- | ---------- | ------------------------------------------------------------------------- |
| `message` | `string` | ❌       | -       | -     | -          | Human-readable error message describing why the operation was aborted     |
| `abortId` | `string` | ✅       | -       | -     | -          | Optional identifier for the aborted operation                             |
| `timeout` | `number` | ✅       | -       | -     | -          | Optional timeout duration in milliseconds (indicates timeout-based abort) |

---

#### `abortId` (Property)

**Type:** `string`

Unique identifier for the aborted operation

Helps track and identify which specific operation was aborted
Corresponds to
`id`
or
`requestId`
from
`AbortPluginConfig`

**Example:**

```ts
`"fetch-user-profile-123"`;
```

**Example:**

```ts
`"upload-file-456"`;
```

---

#### `cause` (Property)

**Type:** `unknown`

---

#### `id` (Property)

**Type:** `string`

A unique identifier for the error, used for categorization and tracking.

---

#### `message` (Property)

**Type:** `string`

---

#### `name` (Property)

**Type:** `string`

---

#### `stack` (Property)

**Type:** `string`

---

#### `timeout` (Property)

**Type:** `number`

Timeout duration in milliseconds

Only populated when abort was triggered by a timeout
Used to distinguish between manual aborts and timeout-based aborts

**Example:**

```ts
`5000`; // 5 seconds timeout
```

---

#### `stackTraceLimit` (Property)

**Type:** `number`

The
`Error.stackTraceLimit`
property specifies the number of stack frames
collected by a stack trace (whether generated by
`new Error().stack`
or

`Error.captureStackTrace(obj)`
).

The default value is
`10`
but may be set to any valid JavaScript number. Changes
will affect any stack trace captured _after_ the value has been changed.

If set to a non-number value, or set to a negative number, stack traces will
not capture any frames.

---

#### `getDescription` (Method)

**Type:** `() => string`

---

##### `getDescription` (CallSignature)

**Type:** `string`

Generates a user-friendly error description with context

Combines the error message with additional context like request ID and timeout duration
Provides more informative error messages for debugging and user feedback

**Returns:**

Formatted error description string

**Example:** Without context

```typescript
const error = new AbortError('Operation aborted');
error.getDescription(); // "Operation aborted"
```

**Example:** With request ID

```typescript
const error = new AbortError('Operation aborted', 'req-123');
error.getDescription(); // "Operation aborted (Request: req-123)"
```

**Example:** With timeout context

```typescript
const error = new AbortError('Timeout', 'req-456', 5000);
error.getDescription(); // "Timeout (Request: req-456, Timeout: 5000ms)"
```

---

#### `isTimeout` (Method)

**Type:** `() => boolean`

---

##### `isTimeout` (CallSignature)

**Type:** `boolean`

Checks if the abort was triggered by a timeout

Useful for distinguishing between manual cancellations and timeout-based aborts,
enabling different error handling strategies

**Returns:**

`true`
if abort was caused by timeout,
`false`
otherwise

**Example:**

```typescript
try {
  await fetchData();
} catch (error) {
  if (error instanceof AbortError && error.isTimeout()) {
    console.log('Request timed out, please try again');
  } else {
    console.log('Request was cancelled');
  }
}
```

---

#### `captureStackTrace` (Method)

**Type:** `(targetObject: object, constructorOpt: Function) => void`

#### Parameters

| Name             | Type       | Optional | Default | Since | Deprecated | Description |
| ---------------- | ---------- | -------- | ------- | ----- | ---------- | ----------- |
| `targetObject`   | `object`   | ❌       | -       | -     | -          |             |
| `constructorOpt` | `Function` | ✅       | -       | -     | -          |             |

---

##### `captureStackTrace` (CallSignature)

**Type:** `void`

Creates a
`.stack`
property on
`targetObject`
, which when accessed returns
a string representing the location in the code at which

`Error.captureStackTrace()`
was called.

```js
const myObject = {};
Error.captureStackTrace(myObject);
myObject.stack; // Similar to `new Error().stack`
```

The first line of the trace will be prefixed with

`${myObject.name}: ${myObject.message}`
.

The optional
`constructorOpt`
argument accepts a function. If given, all frames
above
`constructorOpt`
, including
`constructorOpt`
, will be omitted from the
generated stack trace.

The
`constructorOpt`
argument is useful for hiding implementation
details of error generation from the user. For instance:

```js
function a() {
  b();
}

function b() {
  c();
}

function c() {
  // Create an error without stack trace to avoid calculating the stack trace twice.
  const { stackTraceLimit } = Error;
  Error.stackTraceLimit = 0;
  const error = new Error();
  Error.stackTraceLimit = stackTraceLimit;

  // Capture the stack trace above function b
  Error.captureStackTrace(error, b); // Neither function c, nor b is included in the stack trace
  throw error;
}

a();
```

#### Parameters

| Name             | Type       | Optional | Default | Since | Deprecated | Description |
| ---------------- | ---------- | -------- | ------- | ----- | ---------- | ----------- |
| `targetObject`   | `object`   | ❌       | -       | -     | -          |             |
| `constructorOpt` | `Function` | ✅       | -       | -     | -          |             |

---

#### `prepareStackTrace` (Method)

**Type:** `(err: Error, stackTraces: CallSite[]) => any`

#### Parameters

| Name          | Type         | Optional | Default | Since | Deprecated | Description |
| ------------- | ------------ | -------- | ------- | ----- | ---------- | ----------- |
| `err`         | `Error`      | ❌       | -       | -     | -          |             |
| `stackTraces` | `CallSite[]` | ❌       | -       | -     | -          |             |

---

##### `prepareStackTrace` (CallSignature)

**Type:** `any`

**See:**

https://v8.dev/docs/stack-trace-api#customizing-stack-traces

#### Parameters

| Name          | Type         | Optional | Default | Since | Deprecated | Description |
| ------------- | ------------ | -------- | ------- | ----- | ---------- | ----------- |
| `err`         | `Error`      | ❌       | -       | -     | -          |             |
| `stackTraces` | `CallSite[]` | ❌       | -       | -     | -          |             |

---

### `AbortPlugin` (Class)

**Type:** `class AbortPlugin<TParameters>`

Executor plugin for managing request cancellation and timeout handling

Core concept:
Provides comprehensive abort control for asynchronous operations by managing

`AbortController`
instances, timeout mechanisms, and cleanup operations.
Integrates seamlessly with the executor plugin system to handle operation
lifecycle and error management.

Main features:

- Request cancellation: Manual and automatic abort control with per-request tracking
  - Generates unique identifiers for each request
  - Manages
    `AbortController`
    instances lifecycle
  - Supports both programmatic and user-triggered cancellation
  - Prevents duplicate requests by aborting previous ones with same ID

- Timeout management: Automatic operation timeout with configurable duration
  - Sets up timeout timers for each operation
  - Automatically aborts operations exceeding timeout
  - Provides timeout-specific error information
  - Cleans up timers to prevent memory leaks

- Signal integration: Seamless integration with AbortSignal API
  - Creates and manages
    `AbortSignal`
    instances
  - Supports external signal injection
  - Provides
    `raceWithAbort`
    for signal-unaware operations
  - Handles signal events and state changes

- Resource cleanup: Automatic cleanup of controllers and timers
  - Removes completed operation resources
  - Clears timeout timers on success or error
  - Prevents memory leaks from abandoned operations
  - Supports batch cleanup with
    `abortAll()`

- Error handling: Rich abort error information with context
  - Distinguishes between manual and timeout aborts
  - Provides detailed error descriptions
  - Maintains error context across plugin lifecycle
  - Supports custom error callbacks via
    `onAborted`

**Example:** Basic usage with executor

```typescript
import { Executor } from '@/executor';
import { AbortPlugin } from '@/executor/plugins';

const executor = new Executor();
const abortPlugin = new AbortPlugin();
executor.use(abortPlugin);

// Execute with abort support
const result = await executor.execute({
  id: 'fetch-users',
  abortTimeout: 5000
});
```

**Example:** Manual abort

```typescript
const abortPlugin = new AbortPlugin();
executor.use(abortPlugin);

// Start operation
const promise = executor.execute({ id: 'long-running-task' });

// Cancel after 2 seconds
setTimeout(() => {
  abortPlugin.abort('long-running-task');
}, 2000);
```

**Example:** With custom configuration extractor

```typescript
interface MyParams {
  requestId: string;
  timeout: number;
  customSignal?: AbortSignal;
}

const abortPlugin = new AbortPlugin<MyParams>({
  logger: myLogger,
  getConfig: (params) => ({
    id: params.requestId,
    abortTimeout: params.timeout,
    signal: params.customSignal
  })
});
```

**Example:** With abort callback

```typescript
await executor.execute({
  id: 'upload-file',
  abortTimeout: 30000,
  onAborted: (config) => {
    console.log(`Upload ${config.id} was cancelled`);
    // Clean up temporary files
    cleanupTempFiles();
  }
});
```

**Example:** Abort all pending operations

```typescript
// Start multiple operations
executor.execute({ id: 'task-1' });
executor.execute({ id: 'task-2' });
executor.execute({ id: 'task-3' });

// Cancel all at once
abortPlugin.abortAll();
```

---

#### `new AbortPlugin` (Constructor)

**Type:** `(options: AbortPluginOptions<TParameters>) => AbortPlugin<TParameters>`

#### Parameters

| Name      | Type                              | Optional | Default | Since | Deprecated | Description                  |
| --------- | --------------------------------- | -------- | ------- | ----- | ---------- | ---------------------------- |
| `options` | `AbortPluginOptions<TParameters>` | ✅       | -       | -     | -          | Plugin configuration options |

---

#### `controllers` (Property)

**Type:** `Map<string, AbortController>`

**Default:** `{}`

Map of active abort controllers indexed by request key

Stores
`AbortController`
instances for ongoing operations
Enables abort operations by request identifier

---

#### `getConfig` (Property)

**Type:** `AbortConfigExtractor<TParameters>`

Configuration extractor function

Extracts
`AbortPluginConfig`
from executor parameters
Enables flexible configuration in different contexts

---

#### `logger` (Property)

**Type:** `LoggerInterface<unknown>`

Optional logger instance for debugging

When provided, logs abort events, timeouts, and cleanup operations

---

#### `onlyOne` (Property)

**Type:** `true`

**Default:** `true`

Ensures only one instance of this plugin can be registered

Prevents conflicts from multiple abort plugin instances

---

#### `pluginName` (Property)

**Type:** `"AbortPlugin"`

**Default:** `'AbortPlugin'`

Plugin identifier name

Used by the executor system to identify this plugin

---

#### `timeouts` (Property)

**Type:** `Map<string, Timeout>`

**Default:** `{}`

Map of active timeout timers indexed by request key

Stores timeout IDs for cleanup when operations complete
Prevents memory leaks from abandoned timers

---

#### `abort` (Method)

**Type:** `(config: string \| AbortPluginConfig) => boolean`

#### Parameters

| Name     | Type                          | Optional | Default | Since | Deprecated | Description                                                       |
| -------- | ----------------------------- | -------- | ------- | ----- | ---------- | ----------------------------------------------------------------- |
| `config` | `string \| AbortPluginConfig` | ❌       | -       | -     | -          | Configuration object with request identifier or identifier string |

---

##### `abort` (CallSignature)

**Type:** `boolean`

Manually aborts a specific operation

Triggers abort for the specified request, calls
`onAborted`
callback if provided,
and cleans up all associated resources

**Returns:**

`true`
if operation was aborted,
`false`
if no matching operation found

**Example:** Abort by ID

```typescript
abortPlugin.abort('fetch-users');
```

**Example:** Abort with config

```typescript
abortPlugin.abort({ id: 'upload-file' });
```

**Example:** Conditional abort

```typescript
if (userClickedCancel) {
  const aborted = abortPlugin.abort('long-task');
  if (aborted) {
    console.log('Task cancelled successfully');
  }
}
```

#### Parameters

| Name     | Type                          | Optional | Default | Since | Deprecated | Description                                                       |
| -------- | ----------------------------- | -------- | ------- | ----- | ---------- | ----------------------------------------------------------------- |
| `config` | `string \| AbortPluginConfig` | ❌       | -       | -     | -          | Configuration object with request identifier or identifier string |

---

#### `abortAll` (Method)

**Type:** `() => void`

---

##### `abortAll` (CallSignature)

**Type:** `void`

Aborts all pending operations

Iterates through all active controllers, aborts each operation,
and clears all controllers and timeout timers

Use cases:

- User logs out
- Component unmounts
- Application shutdown
- Navigation away from page

**Example:** Component cleanup

```typescript
class MyComponent {
  private abortPlugin = new AbortPlugin();

  onDestroy() {
    // Cancel all pending requests
    this.abortPlugin.abortAll();
  }
}
```

**Example:** User logout

```typescript
function logout() {
  abortPlugin.abortAll(); // Cancel all API calls
  clearUserData();
  redirectToLogin();
}
```

---

#### `cleanup` (Method)

**Type:** `(config: string \| AbortPluginConfig) => void`

#### Parameters

| Name     | Type                          | Optional | Default | Since | Deprecated | Description                                       |
| -------- | ----------------------------- | -------- | ------- | ----- | ---------- | ------------------------------------------------- |
| `config` | `string \| AbortPluginConfig` | ❌       | -       | -     | -          | Configuration object or request identifier string |

---

##### `cleanup` (CallSignature)

**Type:** `void`

Cleans up resources associated with a request

Removes abort controller and clears timeout timer for the specified request
Prevents memory leaks by releasing references and stopping timers
Only logs when resources actually exist to avoid noise

**Example:** With config object

```typescript
cleanup({ id: 'fetch-users' });
```

**Example:** With identifier string

```typescript
cleanup('fetch-users');
```

#### Parameters

| Name     | Type                          | Optional | Default | Since | Deprecated | Description                                       |
| -------- | ----------------------------- | -------- | ------- | ----- | ---------- | ------------------------------------------------- |
| `config` | `string \| AbortPluginConfig` | ❌       | -       | -     | -          | Configuration object or request identifier string |

---

#### `generateRequestKey` (Method)

**Type:** `(config: AbortPluginConfig) => string`

#### Parameters

| Name     | Type                | Optional | Default | Since | Deprecated | Description                |
| -------- | ------------------- | -------- | ------- | ----- | ---------- | -------------------------- |
| `config` | `AbortPluginConfig` | ❌       | -       | -     | -          | Abort plugin configuration |

---

##### `generateRequestKey` (CallSignature)

**Type:** `string`

Generates unique request identifier from configuration

Priority order:

1.  `requestId`
    from config
2.  `id`
    from config
3.  Auto-generated identifier:
    `{pluginName}-{counter}`

**Returns:**

Unique request identifier string

**Example:**

```typescript
// With requestId
generateRequestKey({ requestId: 'fetch-user' }); // "fetch-user"

// With id
generateRequestKey({ id: 'upload-file' }); // "upload-file"

// Auto-generated
generateRequestKey({}); // "AbortPlugin-1"
```

#### Parameters

| Name     | Type                | Optional | Default | Since | Deprecated | Description                |
| -------- | ------------------- | -------- | ------- | ----- | ---------- | -------------------------- |
| `config` | `AbortPluginConfig` | ❌       | -       | -     | -          | Abort plugin configuration |

---

#### `onBefore` (Method)

**Type:** `(context: ExecutorContext<TParameters>) => void`

#### Parameters

| Name      | Type                           | Optional | Default | Since | Deprecated | Description                                         |
| --------- | ------------------------------ | -------- | ------- | ----- | ---------- | --------------------------------------------------- |
| `context` | `ExecutorContext<TParameters>` | ❌       | -       | -     | -          | Executor context containing parameters and metadata |

---

##### `onBefore` (CallSignature)

**Type:** `void`

Executor lifecycle hook: called before operation execution

Performs the following setup operations:

1. Extracts abort configuration from context parameters
2. Generates unique request key
3. Aborts any existing request with same key (prevents duplicates)
4. Creates new
   `AbortController`
   if signal not provided
5. Sets up timeout timer if
   `abortTimeout`
   configured
6. Injects abort signal into configuration

**Example:** Configuration in context

```typescript
executor.execute({
  id: 'fetch-data',
  abortTimeout: 5000,
  onAborted: (config) => console.log('Aborted:', config.id)
});
```

#### Parameters

| Name      | Type                           | Optional | Default | Since | Deprecated | Description                                         |
| --------- | ------------------------------ | -------- | ------- | ----- | ---------- | --------------------------------------------------- |
| `context` | `ExecutorContext<TParameters>` | ❌       | -       | -     | -          | Executor context containing parameters and metadata |

---

#### `onError` (Method)

**Type:** `(context: ExecutorContext<TParameters>) => void \| ExecutorError`

#### Parameters

| Name      | Type                           | Optional | Default | Since | Deprecated | Description                                                 |
| --------- | ------------------------------ | -------- | ------- | ----- | ---------- | ----------------------------------------------------------- |
| `context` | `ExecutorContext<TParameters>` | ❌       | -       | -     | -          | Executor context containing error, parameters, and metadata |

---

##### `onError` (CallSignature)

**Type:** `void \| ExecutorError`

Executor lifecycle hook: called when execution fails

Handles abort-related errors and cleans up resources

Error handling logic:

1. Check if error is abort-related using
   `isAbortError()`

2. If abort error: Extract reason from signal, cleanup resources, return
   `AbortError`

3. If other error: Still cleanup resources to prevent leaks

**Returns:**

`AbortError`
if error is abort-related,
`void`
otherwise

**Example:** Abort error handling

```typescript
try {
  await executor.execute({ id: 'task-1', abortTimeout: 100 });
} catch (error) {
  if (error instanceof AbortError) {
    console.log(error.getDescription());
    // "The operation was aborted due to timeout (Request: task-1, Timeout: 100ms)"
  }
}
```

#### Parameters

| Name      | Type                           | Optional | Default | Since | Deprecated | Description                                                 |
| --------- | ------------------------------ | -------- | ------- | ----- | ---------- | ----------------------------------------------------------- |
| `context` | `ExecutorContext<TParameters>` | ❌       | -       | -     | -          | Executor context containing error, parameters, and metadata |

---

#### `onSuccess` (Method)

**Type:** `(context: ExecutorContext<TParameters>) => void`

#### Parameters

| Name      | Type                           | Optional | Default | Since | Deprecated | Description                                         |
| --------- | ------------------------------ | -------- | ------- | ----- | ---------- | --------------------------------------------------- |
| `context` | `ExecutorContext<TParameters>` | ❌       | -       | -     | -          | Executor context containing parameters and metadata |

---

##### `onSuccess` (CallSignature)

**Type:** `void`

Executor lifecycle hook: called after successful execution

Cleans up resources (controller and timeout) for completed operation
Ensures no memory leaks from successful operations

**Example:**

```typescript
// After successful execution, resources are automatically cleaned
await executor.execute({ id: 'task-1' });
// AbortController and timeout for 'task-1' are now removed
```

#### Parameters

| Name      | Type                           | Optional | Default | Since | Deprecated | Description                                         |
| --------- | ------------------------------ | -------- | ------- | ----- | ---------- | --------------------------------------------------- |
| `context` | `ExecutorContext<TParameters>` | ❌       | -       | -     | -          | Executor context containing parameters and metadata |

---

#### `raceWithAbort` (Method)

**Type:** `(promise: Promise<T>, signal: AbortSignal) => Promise<T>`

#### Parameters

| Name      | Type          | Optional | Default | Since | Deprecated | Description                                                      |
| --------- | ------------- | -------- | ------- | ----- | ---------- | ---------------------------------------------------------------- |
| `promise` | `Promise<T>`  | ❌       | -       | -     | -          | Promise to wrap with abort capability                            |
| `signal`  | `AbortSignal` | ✅       | -       | -     | -          | AbortSignal to monitor, if not provided returns original promise |

---

##### `raceWithAbort` (CallSignature)

**Type:** `Promise<T>`

Wraps an async operation with
`Promise.race`
to ensure abort signal responsiveness

Defensive mechanism for operations that don't natively check abort signals
Uses promise racing to interrupt operations when signal is aborted,
even if the underlying operation ignores the signal

Use cases:

- Third-party APIs that don't support
  `AbortSignal`

- Legacy code without abort handling
- Gateway operations that don't check signal
- Any async operation needing guaranteed cancellation

**Returns:**

Wrapped promise that rejects immediately when signal is aborted

**Example:** Basic usage

```typescript
const controller = new AbortController();
const result = await abortPlugin.raceWithAbort(
  fetch('/api/data'), // Even if fetch doesn't check signal
  controller.signal
);
```

**Example:** With third-party library

```typescript
const result = await abortPlugin.raceWithAbort(
  legacyApiCall(), // Library doesn't support abort
  signal
);
```

**Example:** Without signal (pass-through)

```typescript
// When signal is not provided, returns original promise
const result = await abortPlugin.raceWithAbort(somePromise());
```

**Example:** Timeout with abort

```typescript
const controller = new AbortController();
setTimeout(() => controller.abort(), 5000);

try {
  const result = await abortPlugin.raceWithAbort(
    longRunningOperation(),
    controller.signal
  );
} catch (error) {
  if (AbortPlugin.isAbortError(error)) {
    console.log('Operation timed out');
  }
}
```

#### Parameters

| Name      | Type          | Optional | Default | Since | Deprecated | Description                                                      |
| --------- | ------------- | -------- | ------- | ----- | ---------- | ---------------------------------------------------------------- |
| `promise` | `Promise<T>`  | ❌       | -       | -     | -          | Promise to wrap with abort capability                            |
| `signal`  | `AbortSignal` | ✅       | -       | -     | -          | AbortSignal to monitor, if not provided returns original promise |

---

#### `isAbortError` (Method)

**Type:** `(error: unknown) => callsignature isAbortError`

#### Parameters

| Name    | Type      | Optional | Default | Since | Deprecated | Description           |
| ------- | --------- | -------- | ------- | ----- | ---------- | --------------------- |
| `error` | `unknown` | ✅       | -       | -     | -          | Error object to check |

---

##### `isAbortError` (CallSignature)

**Type:** `callsignature isAbortError`

Checks if an error is abort-related (static utility method)

Comprehensive check for various abort error types including custom
`AbortError`
,
native browser
`AbortError`
,
`ExecutorError`
with abort ID,
`DOMException`
,
and abort events. Can be used independently without plugin instance.

Detection logic:

1. Custom
   `AbortError`
   instance
2. Native
   `Error`
   with name 'AbortError'
3. `ExecutorError`
   with
   `ABORT_ERROR_ID`

4. `DOMException`
   with name 'AbortError'
5. `Event`
   with type 'abort'

**Returns:**

`true`
if error is abort-related,
`false`
otherwise

**Example:** Basic usage

```typescript
try {
  await fetch(url, { signal });
} catch (error) {
  if (AbortPlugin.isAbortError(error)) {
    console.log('Request was cancelled');
  } else {
    console.error('Request failed:', error);
  }
}
```

**Example:** In error handler

```typescript
function handleError(error: unknown) {
  if (AbortPlugin.isAbortError(error)) {
    // User cancelled - don't show error message
    return;
  }
  showErrorNotification(error);
}
```

#### Parameters

| Name    | Type      | Optional | Default | Since | Deprecated | Description           |
| ------- | --------- | -------- | ------- | ----- | ---------- | --------------------- |
| `error` | `unknown` | ✅       | -       | -     | -          | Error object to check |

---

### `AbortPluginConfig` (Interface)

**Type:** `interface AbortPluginConfig`

Configuration interface for AbortPlugin

Defines the parameters needed to control request cancellation behavior,
including identifiers, abort signals, timeout settings, and callback functions

---

#### `abortTimeout` (Property)

**Type:** `number`

**Default:** `undefined`

Timeout duration in milliseconds

When set, the operation will be automatically aborted after this duration
Helps prevent hanging requests and manages resource cleanup

**Example:**

```ts
`5000`; // 5 seconds timeout
```

**Example:**

```ts
`30000`; // 30 seconds timeout
```

---

#### `id` (Property)

**Type:** `string`

Unique identifier for the abort operation

Used to identify and manage specific abort controller instances
If not provided, will use
`requestId`
or auto-generated value

**Example:**

```ts
`"user-profile-fetch"`;
```

---

#### `requestId` (Property)

**Type:** `string`

Request unique identifier

Alternative to
`id`
, used for identifying specific requests
Useful when tracking requests across different systems

**Example:**

```ts
`"req_123456789"`;
```

---

#### `signal` (Property)

**Type:** `AbortSignal`

AbortSignal instance for request cancellation

If not provided, the plugin will create and manage one automatically
Can be provided externally to integrate with existing abort mechanisms

**See:**

AbortSignal MDN

---

#### `onAborted` (Method)

**Type:** `(config: T) => void`

#### Parameters

| Name     | Type | Optional | Default | Since | Deprecated | Description |
| -------- | ---- | -------- | ------- | ----- | ---------- | ----------- |
| `config` | `T`  | ❌       | -       | -     | -          |             |

---

##### `onAborted` (CallSignature)

**Type:** `void`

Callback function triggered when operation is aborted

Receives the abort configuration (excluding the callback itself to prevent recursion)
Useful for cleanup operations or user notifications

**Example:**

```typescript
onAborted: (config) => {
  console.log(`Request ${config.id} was cancelled`);
  // Perform cleanup operations
};
```

#### Parameters

| Name     | Type | Optional | Default | Since | Deprecated | Description |
| -------- | ---- | -------- | ------- | ----- | ---------- | ----------- |
| `config` | `T`  | ❌       | -       | -     | -          |             |

---

### `AbortPluginOptions` (Interface)

**Type:** `interface AbortPluginOptions<T>`

Configuration options for initializing AbortPlugin

Defines optional settings for logger integration, default timeout,
and custom configuration extraction logic

---

#### `getConfig` (Property)

**Type:** `AbortConfigExtractor<T>`

**Default:** `Direct cast of parameters to `

Custom configuration extractor function

Extracts
`AbortPluginConfig`
from executor context parameters
Allows customization of how abort configuration is retrieved

**Example:**

```typescript
getConfig: (params) => ({
  id: params.requestId,
  abortTimeout: params.customTimeout,
  signal: params.abortSignal
});
```

---

#### `logger` (Property)

**Type:** `LoggerInterface<unknown>`

Logger instance for debugging and monitoring

When provided, the plugin will log abort events, timeouts,
and cleanup operations for debugging purposes

**Example:**

```typescript
import { Logger } from '@qlover/logger';
const logger = new Logger({ level: 'debug' });
```

---

#### `timeout` (Property)

**Type:** `number`

**Default:** `undefined`

Default timeout duration in milliseconds

Applied to all requests unless overridden by individual request config
Helps establish consistent timeout behavior across the application

**Example:**

```ts
`10000`; // 10 seconds default timeout
```

---

### `AbortConfigExtractor` (TypeAlias)

**Type:** `Object`

Configuration extractor function type

Extracts
`AbortPluginConfig`
from executor context parameters
Enables flexible configuration passing in different execution contexts

**Returns:**

Extracted abort configuration

**Example:**

```typescript
const extractor: AbortConfigExtractor<MyParams> = (params) => ({
  id: params.requestId,
  abortTimeout: params.timeout,
  signal: params.customSignal
});
```

---

### `ABORT_ERROR_ID` (Variable)

**Type:** `"ABORT_ERROR"`

**Default:** `'ABORT_ERROR'`

Error identifier constant for abort-related errors

Used to identify abort errors in error handling logic

---
